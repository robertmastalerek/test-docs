<!doctype html><html class=no-js><head><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://ssgtm.camunda.org/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PP9MHKW');</script><meta charset=utf-8><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width"><meta name=description content="documentation of Camunda 7"><meta name=keywords content="camunda,open source,free,Apache License,Apache 2.0,workflow,BPMN,BPMN 2.0,camunda.org,bpm,BPMS,engine,platform,process,automation,community,documentation"><meta name=author content="Camunda 7 community"><meta name=robots content=noindex><title>Process Instance Modification | docs.camunda.org</title><meta name=generator content="Hugo 0.54.0"><link rel="shortcut icon" href=https://robertmastalerek.github.io/img/favicon.ico type=image/x-icon><link rel=stylesheet href=https://robertmastalerek.github.io/css/docs.91d4e2e25acd3c3694c2e139ae987708dbbd89993705dc078bc0f52d6361c7b3.css integrity="sha256-kdTi4lrNPDaUwuE5rph3CNu9iZk3BdwHi8D1LWNhx7M="><link rel=canonical href=https://robertmastalerek.github.io/https://robertmastalerek.github.io/user-guide/process-engine/process-instance-modification/></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PP9MHKW" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><nav class="navbar navbar-fixed-top"><div class="navbar-container navbar-top-section"><span>Looking for Camunda 8? >></span>
<a target=_blank href=https://docs.camunda.io/>Docs</a>
<a target=_blank href="https://signup.camunda.com/accounts?utm_source=docs.camunda.org&utm_medium=referral">Create account</a>
<a target=_blank href=https://console.cloud.camunda.io/>Sign-In</a></div><div class=navbar-container><div class=navbar-header><a href=https://robertmastalerek.github.io/><img src=https://robertmastalerek.github.io/img/orange-C.png style="width:35;height:35px;padding:0 5px 7px 0">
<span class=brand-name>Camunda 7</span>
<span class=site-name>Docs</span></a></div><ul class=header-menu><li><a href=/test-docs/get-started/>Get Started</a></li><li><a href=/test-docs/>Camunda 7</a></li><li><a href=enterprise>Enterprise</a></li><li><a href=security>Security</a></li></ul><button class=site-menu-toggle>
<span></span><span></span><span></span></button><div class=search-field><input type=search class=search-input placeholder=Searchâ€¦></div><ul class=external-menu><li class=external><a href=https://camunda.org>Camunda.org</a></li></ul></div></nav><div class=search-results><ul class=results-list></ul><footer><button class="btn btn-default page previous">
<span class="glyphicon glyphicon-chevron-left"></span></button>
<button class="search-close btn btn-default">
<span class="glyphicon glyphicon-remove"></span></button>
<button class="btn btn-default page next">
<span class="glyphicon glyphicon-chevron-right"></span></button></footer></div><div class=search-underlay></div><nav class=site-menu><div class="version versioned"><span class=number><a>develop</a>
(7.23)</span></div><ul class=site-menu-items><li><a href=/introduction/>Introduction</a><ul><li><a href=/introduction/downloading-camunda/>Download</a></li><li><a href=/introduction/licenses/>Licenses</a></li><li><a href=/introduction/implemented-standards/>Implemented Standards</a></li><li><a href=/introduction/architecture/>Architecture Overview</a></li><li><a href=/introduction/supported-environments/>Supported Environments</a></li><li><a href=/introduction/telemetry/>Telemetry</a></li><li><a href=/introduction/extensions/>Extensions</a></li><li><a href=/introduction/third-party-libraries/>Third-Party Libraries</a><ul><li><a href=/introduction/third-party-libraries/camunda-bpm-platform-license-book/>Camunda 7 License Book</a></li></ul></li><li><a href=/introduction/public-api/>Public API</a></li></ul></li><li><a href=/user-guide/>User Guide</a><ul><li><a href=/user-guide/process-engine/>Process Engine</a><ul><li><a href=/user-guide/process-engine/process-engine-bootstrapping/>Process Engine Bootstrapping</a></li><li><a href=/user-guide/process-engine/process-engine-api/>Process Engine API</a></li><li><a href=/user-guide/process-engine/process-engine-concepts/>Process Engine Concepts</a></li><li><a href=/user-guide/process-engine/variables/>Process Variables</a></li><li><a href=/user-guide/process-engine/process-instance-modification/>Process Instance Modification</a></li><li><a href=/user-guide/process-engine/process-instance-restart/>Process Instance Restart</a></li><li><a href=/user-guide/process-engine/delegation-code/>Delegation Code</a></li><li><a href=/user-guide/process-engine/expression-language/>Expression Language</a></li><li><a href=/user-guide/process-engine/scripting/>Scripting</a></li><li><a href=/user-guide/process-engine/templating/>Templating</a></li><li><a href=/user-guide/process-engine/securing-custom-code/>Custom Code &amp; Security</a></li><li><a href=/user-guide/process-engine/external-tasks/>External Tasks</a></li><li><a href=/user-guide/process-engine/connectors/>Connectors</a></li><li><a href=/user-guide/process-engine/process-versioning/>Process Versioning</a></li><li><a href=/user-guide/process-engine/process-instance-migration/>Process Instance Migration</a></li><li><a href=/user-guide/process-engine/database/>Database</a><ul><li><a href=/user-guide/process-engine/database/database-schema/>Database Schema</a></li><li><a href=/user-guide/process-engine/database/database-configuration/>Database Configuration</a></li><li><a href=/user-guide/process-engine/database/mssql-configuration/>Microsoft SQL Server and Azure SQL Database Configuration</a></li><li><a href=/user-guide/process-engine/database/mysql-configuration/>MySQL Database Configuration</a></li><li><a href=/user-guide/process-engine/database/performance/>Performance</a></li></ul></li><li><a href=/user-guide/process-engine/history/>History</a><ul><li><a href=/user-guide/process-engine/history/history-configuration/>History configuration</a></li><li><a href=/user-guide/process-engine/history/user-operation-log/>User operation log</a></li><li><a href=/user-guide/process-engine/history/history-cleanup/>History cleanup</a></li><li><a href=/user-guide/process-engine/history/custom-implementation/>Custom implementation</a></li></ul></li><li><a href=/user-guide/process-engine/deployment-cache/>Deployment Cache</a></li><li><a href=/user-guide/process-engine/password-hashing/>Password Hashing</a></li><li><a href=/user-guide/process-engine/password-policy/>Password Policy</a></li><li><a href=/user-guide/process-engine/transactions-in-processes/>Transactions in Processes</a></li><li><a href=/user-guide/process-engine/the-job-executor/>The Job Executor</a></li><li><a href=/user-guide/process-engine/multi-tenancy/>Multi-Tenancy</a></li><li><a href=/user-guide/process-engine/id-generator/>Id Generators</a></li><li><a href=/user-guide/process-engine/metrics/>Metrics</a></li><li><a href=/user-guide/process-engine/incidents/>Incidents</a></li><li><a href=/user-guide/process-engine/process-engine-plugins/>Process Engine Plugins</a></li><li><a href=/user-guide/process-engine/identity-service/>Identity Service</a></li><li><a href=/user-guide/process-engine/authorization-service/>Authorization Service</a></li><li><a href=/user-guide/process-engine/deployments/>Deployments</a></li><li><a href=/user-guide/process-engine/process-diagram-api/>Process Diagram Visualization</a></li><li><a href=/user-guide/process-engine/time-zones/>Time zones</a></li><li><a href=/user-guide/process-engine/decisions/>Decisions</a><ul><li><a href=/user-guide/process-engine/decisions/configuration/>Configuration</a></li><li><a href=/user-guide/process-engine/decisions/repository/>Repository</a></li><li><a href=/user-guide/process-engine/decisions/decision-service/>Decision Service</a></li><li><a href=/user-guide/process-engine/decisions/bpmn-cmmn/>Decisions in BPMN &amp; CMMN</a></li><li><a href=/user-guide/process-engine/decisions/history/>History</a></li></ul></li><li><a href=/user-guide/process-engine/batch/>Batch</a><ul><li><a href=/user-guide/process-engine/batch-operations/>Batch operations</a></li></ul></li><li><a href=/user-guide/process-engine/error-handling/>Error Handling</a></li><li><a href=/user-guide/process-engine/diagnostics-data/>Diagnostics data</a></li></ul></li><li><a href=/user-guide/process-applications/>Process Applications</a><ul><li><a href=/user-guide/process-applications/the-process-application-class/>The Process Application class</a></li><li><a href=/user-guide/process-applications/the-processes-xml-deployment-descriptor/>The processes.xml Deployment Descriptor</a></li><li><a href=/user-guide/process-applications/process-application-event-listeners/>Process Application Event Listeners</a></li><li><a href=/user-guide/process-applications/process-application-resources/>Process Application Resource Access</a></li><li><a href=/user-guide/process-applications/maven-archetypes/>Maven Project Templates (Archetypes)</a></li></ul></li><li><a href=/user-guide/runtime-container-integration/>Runtime Container Integration</a><ul><li><a href=/user-guide/runtime-container-integration/bpm-platform-services/>Camunda 7 Services</a></li><li><a href=/user-guide/runtime-container-integration/jndi-bindings-for-bpmn-platform-services/>JNDI Bindings for Camunda 7 Services</a></li><li><a href=/user-guide/runtime-container-integration/tomcat/>Apache Tomcat</a></li><li><a href=/user-guide/runtime-container-integration/jboss/>WildFly</a></li><li><a href=/user-guide/runtime-container-integration/job-execution-with-managed-resources/>Job Execution with Managed Resources</a></li></ul></li><li><a href=/user-guide/camunda-bpm-run/>Camunda 7 Run</a></li><li><a href=/user-guide/spring-framework-integration/>Spring Framework Integration</a><ul><li><a href=/user-guide/spring-framework-integration/configuration/>Bootstrapping</a></li><li><a href=/user-guide/spring-framework-integration/transactions/>Transactions</a></li><li><a href=/user-guide/spring-framework-integration/deployment/>Deployment</a></li><li><a href=/user-guide/spring-framework-integration/expressions/>Spring Bean Resolving</a></li><li><a href=/user-guide/spring-framework-integration/testing/>Testing</a></li></ul></li><li><a href=/user-guide/spring-boot-integration/>Spring Boot Integration</a><ul><li><a href=/user-guide/spring-boot-integration/version-compatibility/>Version Compatibility</a></li><li><a href=/user-guide/spring-boot-integration/configuration/>Configuration</a></li><li><a href=/user-guide/spring-boot-integration/rest-api/>REST API</a></li><li><a href=/user-guide/spring-boot-integration/webapps/>Web Applications</a></li><li><a href=/user-guide/spring-boot-integration/process-applications/>Process Applications</a></li><li><a href=/user-guide/spring-boot-integration/the-spring-event-bridge/>Spring Eventing Bridge</a></li><li><a href=/user-guide/spring-boot-integration/develop-and-test/>Developing and Testing</a></li><li><a href=/user-guide/spring-boot-integration/spring-security/>Spring Security OAuth2 Integration</a></li></ul></li><li><a href=/user-guide/quarkus-integration/>Quarkus Integration</a><ul><li><a href=/user-guide/quarkus-integration/version-compatibility/>Version Compatibility</a></li><li><a href=/user-guide/quarkus-integration/configuration/>Configuration</a></li><li><a href=/user-guide/quarkus-integration/cdi-integration/>Engine CDI Integration</a></li><li><a href=/user-guide/quarkus-integration/deployments/>Resource Deployments</a></li></ul></li><li><a href=/user-guide/cdi-java-ee-integration/>CDI and Java EE Integration</a><ul><li><a href=/user-guide/cdi-java-ee-integration/jta-transaction-integration/>JTA Transaction Integration</a></li><li><a href=/user-guide/cdi-java-ee-integration/expression-resolving/>Expression Resolving</a></li><li><a href=/user-guide/cdi-java-ee-integration/contextual-programming-model/>Contextual Programming Model</a></li><li><a href=/user-guide/cdi-java-ee-integration/built-in-beans/>Built-In Beans</a></li><li><a href=/user-guide/cdi-java-ee-integration/the-cdi-event-bridge/>CDI Event Bridge</a></li></ul></li><li><a href=/user-guide/testing/>Testing</a><ul><li><a href=/user-guide/testing/assert-examples/>Assert Examples</a></li></ul></li><li><a href=/user-guide/model-api/>Model API</a><ul><li><a href=/user-guide/model-api/bpmn-model-api/>BPMN Model API</a><ul><li><a href=/user-guide/model-api/bpmn-model-api/read-a-model/>Read a Model</a></li><li><a href=/user-guide/model-api/bpmn-model-api/create-a-model/>Create a Model</a></li><li><a href=/user-guide/model-api/bpmn-model-api/delegation-code/>Delegation Code</a></li><li><a href=/user-guide/model-api/bpmn-model-api/fluent-builder-api/>Fluent Builder API</a></li><li><a href=/user-guide/model-api/bpmn-model-api/respository-service/>Repository Service</a></li><li><a href=/user-guide/model-api/bpmn-model-api/extension-elements/>Extension Elements</a></li></ul></li><li><a href=/user-guide/model-api/cmmn-model-api/>CMMN Model API</a><ul><li><a href=/user-guide/model-api/cmmn-model-api/read-a-model/>Read a Model</a></li><li><a href=/user-guide/model-api/cmmn-model-api/create-a-model/>Create a Model</a></li><li><a href=/user-guide/model-api/cmmn-model-api/delegation-code/>Delegation Code</a></li><li><a href=/user-guide/model-api/cmmn-model-api/repository-service/>Repository Service</a></li><li><a href=/user-guide/model-api/cmmn-model-api/extension-elements/>Extension Elements</a></li><li><a href=/user-guide/model-api/cmmn-model-api/limitations/>Limitations</a></li></ul></li><li><a href=/user-guide/model-api/dmn-model-api/>DMN Model API</a><ul><li><a href=/user-guide/model-api/dmn-model-api/read-a-model/>Read a Model</a></li><li><a href=/user-guide/model-api/dmn-model-api/create-a-model/>Create a Model</a></li><li><a href=/user-guide/model-api/dmn-model-api/repository-service/>Repository Service</a></li><li><a href=/user-guide/model-api/dmn-model-api/extension-attributes/>Extension Attributes</a></li></ul></li></ul></li><li><a href=/user-guide/data-formats/>Data Formats (XML, JSON, Other)</a><ul><li><a href=/user-guide/data-formats/configuring-spin-integration/>Configuring Spin Integration</a></li><li><a href=/user-guide/data-formats/data-formats-in-processes/>Data Formats in Processes</a></li><li><a href=/user-guide/data-formats/xml/>XML</a></li><li><a href=/user-guide/data-formats/json/>JSON</a></li></ul></li><li><a href=/user-guide/task-forms/>User Task Forms</a><ul><li><a href=/user-guide/task-forms/jsf-task-forms/>JSF Task Forms</a></li></ul></li><li><a href=/user-guide/dmn-engine/>DMN Engine</a><ul><li><a href=/user-guide/dmn-engine/embed/>Embed</a></li><li><a href=/user-guide/dmn-engine/evaluate-decisions/>Evaluate Decisions</a></li><li><a href=/user-guide/dmn-engine/expressions-and-scripts/>Expressions</a></li><li><a href=/user-guide/dmn-engine/feel/>FEEL Engine</a><ul><li><a href=/user-guide/dmn-engine/feel/type-handling/>Type Handling</a></li><li><a href=/user-guide/dmn-engine/feel/custom-functions/>Custom Functions</a></li><li><a href=/user-guide/dmn-engine/feel/spin-integration/>Spin Integration</a></li><li><a href=/user-guide/dmn-engine/feel/legacy-behavior/>Legacy Behavior</a></li></ul></li><li><a href=/user-guide/dmn-engine/data-types/>Data Types</a></li><li><a href=/user-guide/dmn-engine/testing/>Testing</a></li></ul></li><li><a href=/user-guide/logging/>Logging</a></li><li><a href=/user-guide/security/>Security Instructions</a></li><li><a href=/user-guide/license-use/>Camunda License Keys</a></li><li><a href=/user-guide/ext-client/>External Task Client</a><ul><li><a href=/user-guide/ext-client/spring-boot-starter/>Spring Boot Starter</a></li><li><a href=/user-guide/ext-client/compatibility-matrix/>Version Compatibility</a></li></ul></li></ul></li><li><a href=/reference/>Reference</a><ul><li><a href=/reference/rest/>REST API</a><ul><li><a href=/reference/rest/overview/>Overview</a><ul><li><a href=/reference/rest/overview/authentication/>Configure Authentication</a></li><li><a href=/reference/rest/overview/distro-use/>Usage with a Pre-Built Distribution</a></li><li><a href=/reference/rest/overview/embeddability/>Embed the API</a></li><li><a href=/reference/rest/overview/hal/>Hypertext Application Language (HAL)</a></li><li><a href=/reference/rest/overview/variables/>Variables in the REST API</a></li><li><a href=/reference/rest/overview/date-format/>Date Format</a></li></ul></li><li><a href=/reference/rest/openapi/>OpenAPI</a></li><li><a href=/reference/rest/specification/>Specification â†—</a></li></ul></li><li><a href=/reference/javadoc/>Javadoc â†—</a></li><li><a href=/reference/bpmn20/>BPMN 2.0</a><ul><li><a href=/reference/bpmn20/tasks/>Tasks</a><ul><li><a href=/reference/bpmn20/tasks/service-task/>Service Task</a></li><li><a href=/reference/bpmn20/tasks/send-task/>Send Task</a></li><li><a href=/reference/bpmn20/tasks/user-task/>User Task</a></li><li><a href=/reference/bpmn20/tasks/business-rule-task/>Business Rule Task</a></li><li><a href=/reference/bpmn20/tasks/script-task/>Script Task</a></li><li><a href=/reference/bpmn20/tasks/receive-task/>Receive Task</a></li><li><a href=/reference/bpmn20/tasks/manual-task/>Manual Task</a></li><li><a href=/reference/bpmn20/tasks/task-markers/>Task Markers</a></li></ul></li><li><a href=/reference/bpmn20/gateways/>Gateways</a><ul><li><a href=/reference/bpmn20/gateways/exclusive-gateway/>Data-based Exclusive Gateway (XOR)</a></li><li><a href=/reference/bpmn20/gateways/sequence-flow/>Conditional and Default Sequence Flows</a></li><li><a href=/reference/bpmn20/gateways/parallel-gateway/>Parallel Gateway</a></li><li><a href=/reference/bpmn20/gateways/inclusive-gateway/>Inclusive Gateway</a></li><li><a href=/reference/bpmn20/gateways/event-based-gateway/>Event-based Gateway</a></li></ul></li><li><a href=/reference/bpmn20/events/>Events</a><ul><li><a href=/reference/bpmn20/events/start-events/>Start Events</a></li><li><a href=/reference/bpmn20/events/none-events/>None Events</a></li><li><a href=/reference/bpmn20/events/message-events/>Message Events</a></li><li><a href=/reference/bpmn20/events/timer-events/>Timer Events</a></li><li><a href=/reference/bpmn20/events/error-events/>Error Events</a></li><li><a href=/reference/bpmn20/events/escalation-events/>Escalation Events</a></li><li><a href=/reference/bpmn20/events/signal-events/>Signal Events</a></li><li><a href=/reference/bpmn20/events/cancel-and-compensation-events/>Cancel and Compensation Events</a></li><li><a href=/reference/bpmn20/events/conditional-events/>Conditional Events</a></li><li><a href=/reference/bpmn20/events/link-events/>Link Events</a></li><li><a href=/reference/bpmn20/events/terminate-event/>Terminate Events</a></li></ul></li><li><a href=/reference/bpmn20/subprocesses/>Subprocess</a><ul><li><a href=/reference/bpmn20/subprocesses/embedded-subprocess/>Embedded Subprocess</a></li><li><a href=/reference/bpmn20/subprocesses/call-activity/>Call Activity</a></li><li><a href=/reference/bpmn20/subprocesses/event-subprocess/>Event Subprocess</a></li><li><a href=/reference/bpmn20/subprocesses/transaction-subprocess/>Transaction Subprocess</a></li></ul></li><li><a href=/reference/bpmn20/custom-extensions/>Extension Reference</a><ul><li><a href=/reference/bpmn20/custom-extensions/extension-elements/>Extension Elements</a></li><li><a href=/reference/bpmn20/custom-extensions/extension-attributes/>Extension Attributes</a></li></ul></li></ul></li><li><a href=/reference/dmn/>DMN 1.3</a><ul><li><a href=/reference/dmn/decision-table/>Decision Table</a><ul><li><a href=/reference/dmn/decision-table/input/>Input</a></li><li><a href=/reference/dmn/decision-table/output/>Output</a></li><li><a href=/reference/dmn/decision-table/rule/>Rule</a></li><li><a href=/reference/dmn/decision-table/hit-policy/>Hit Policy</a></li></ul></li><li><a href=/reference/dmn/decision-literal-expression/>Decision Literal Expression</a></li><li><a href=/reference/dmn/drg/>Decision Requirements Graph</a></li><li><a href=/reference/dmn/feel/>FEEL</a><ul><li><a href=/reference/dmn/feel/legacy/>Legacy FEEL Reference</a><ul><li><a href=/reference/dmn/feel/legacy/data-types/>Data Types</a></li><li><a href=/reference/dmn/feel/legacy/language-elements/>Language Elements</a></li></ul></li></ul></li><li><a href=/reference/dmn/custom-extensions/>Extension Reference</a><ul><li><a href=/reference/dmn/custom-extensions/camunda-attributes/>Extension Attributes</a></li></ul></li></ul></li><li><a href=/reference/cmmn11/>CMMN 1.1</a><ul><li><a href=/reference/cmmn11/api/classic-vs-fluent/>Classic vs Fluent API</a></li><li><a href=/reference/cmmn11/concepts/>CMMN Concepts</a><ul><li><a href=/reference/cmmn11/concepts/plan-items/>Plan Items and Item Definitions</a></li><li><a href=/reference/cmmn11/concepts/lifecycle/>Plan Item Lifecycles</a></li><li><a href=/reference/cmmn11/concepts/entry-exit-criteria/>Entry and Exit Criteria</a></li></ul></li><li><a href=/reference/cmmn11/tasks/>Tasks</a><ul><li><a href=/reference/cmmn11/tasks/human-task/>Human Task</a></li><li><a href=/reference/cmmn11/tasks/process-task/>Process Task</a></li><li><a href=/reference/cmmn11/tasks/case-task/>Case Task</a></li><li><a href=/reference/cmmn11/tasks/decision-task/>Decision Task</a></li></ul></li><li><a href=/reference/cmmn11/grouping-tasks/>Grouping Tasks</a><ul><li><a href=/reference/cmmn11/grouping-tasks/stage/>Stage</a></li></ul></li><li><a href=/reference/cmmn11/milestone/>Milestones</a></li><li><a href=/reference/cmmn11/sentry/>Sentries</a></li><li><a href=/reference/cmmn11/markers/>Markers</a><ul><li><a href=/reference/cmmn11/markers/manual-activation-rule/>Manual Activation Rule</a></li><li><a href=/reference/cmmn11/markers/required-rule/>Required Rule</a></li><li><a href=/reference/cmmn11/markers/auto-complete/>Auto Complete</a></li><li><a href=/reference/cmmn11/markers/repetition-rule/>Repetition Rule</a></li></ul></li><li><a href=/reference/cmmn11/custom-extensions/>Extension Reference</a><ul><li><a href=/reference/cmmn11/custom-extensions/camunda-elements/>Extension Elements</a></li><li><a href=/reference/cmmn11/custom-extensions/camunda-attributes/>Extension Attributes</a></li></ul></li><li><a href=/reference/cmmn11/migration/>Migration between Specification Versions</a><ul><li><a href=/reference/cmmn11/migration/10-to-11/>1.0 to 1.1</a></li></ul></li></ul></li><li><a href=/reference/forms/>Forms</a><ul><li><a href=/reference/forms/embedded-forms/>Embedded Forms</a><ul><li><a href=/reference/forms/embedded-forms/controls/>Controls</a><ul><li><a href=/reference/forms/embedded-forms/controls/inputs/>Text Inputs</a></li><li><a href=/reference/forms/embedded-forms/controls/textarea/>Textareas</a></li><li><a href=/reference/forms/embedded-forms/controls/date-inputs/>Date Inputs</a></li><li><a href=/reference/forms/embedded-forms/controls/boolean-inputs/>Boolean Inputs</a></li><li><a href=/reference/forms/embedded-forms/controls/select/>Selects</a></li><li><a href=/reference/forms/embedded-forms/controls/hidden/>Hidden Input Fields</a></li><li><a href=/reference/forms/embedded-forms/controls/files/>File Upload and Download</a></li><li><a href=/reference/forms/embedded-forms/controls/bpmn-buttons/>BPMN Event Buttons</a></li></ul></li><li><a href=/reference/forms/embedded-forms/javascript/>Javascript</a><ul><li><a href=/reference/forms/embedded-forms/javascript/cam-script/>The cam-script Directive</a></li><li><a href=/reference/forms/embedded-forms/javascript/api/>Available API</a></li><li><a href=/reference/forms/embedded-forms/javascript/lifecycle/>Participating in the Form Lifecycle</a></li><li><a href=/reference/forms/embedded-forms/javascript/debugging/>Debugging Scripts</a></li><li><a href=/reference/forms/embedded-forms/javascript/generating-businesskey/>Generating a Business Key</a></li><li><a href=/reference/forms/embedded-forms/javascript/examples/>Examples</a></li></ul></li><li><a href=/reference/forms/embedded-forms/lifecycle/>Lifecycle and Events</a></li><li><a href=/reference/forms/embedded-forms/json-data/>Working with Json Data</a></li><li><a href=/reference/forms/embedded-forms/java-objects/>Working with Java Objects</a></li><li><a href=/reference/forms/embedded-forms/integrate/>Integrating the Forms SDK</a><ul><li><a href=/reference/forms/embedded-forms/integrate/getting-a-distribution/>Getting a Distribution</a></li><li><a href=/reference/forms/embedded-forms/integrate/bootstrapping/>Bootstrapping</a></li><li><a href=/reference/forms/embedded-forms/integrate/angular-js/>AngularJS Integration</a></li><li><a href=/reference/forms/embedded-forms/integrate/full-examples/>Full Example</a></li></ul></li></ul></li><li><a href=/reference/forms/camunda-forms/>Camunda Forms</a></li></ul></li><li><a href=/reference/spin/>Spin Dataformats</a><ul><li><a href=/reference/spin/xml/>XML</a><ul><li><a href=/reference/spin/xml/01-reading-xml/>Reading XML</a></li><li><a href=/reference/spin/xml/02-manipulating-xml/>Manipulating XML</a></li><li><a href=/reference/spin/xml/03-writing-xml/>Writing XML</a></li><li><a href=/reference/spin/xml/04-querying-xml/>Querying XML</a></li><li><a href=/reference/spin/xml/05-mapping-xml/>Mapping XML</a></li><li><a href=/reference/spin/xml/06-configuring-xml/>Configuring XML Handling</a></li></ul></li><li><a href=/reference/spin/json/>JSON</a><ul><li><a href=/reference/spin/json/01-reading-json/>Reading JSON</a></li><li><a href=/reference/spin/json/02-writing-json/>Writing JSON</a></li><li><a href=/reference/spin/json/03-querying-json/>Querying JSON</a></li><li><a href=/reference/spin/json/04-mapping-json/>Mapping JSON</a></li><li><a href=/reference/spin/json/05-configuring-json/>Configuring JSON Handling</a></li></ul></li><li><a href=/reference/spin/extending-spin/>Extending Spin</a></li></ul></li><li><a href=/reference/connect/>Connectors</a><ul><li><a href=/reference/connect/http-connector/>HTTP Connector</a></li><li><a href=/reference/connect/soap-connector/>SOAP Connector</a></li><li><a href=/reference/connect/extending-connect/>Extending Connect</a></li></ul></li><li><a href=/reference/deployment-descriptors/>Deployment Descriptors</a><ul><li><a href=/reference/deployment-descriptors/descriptors/bpm-platform-xml/>bpm-platform.xml</a></li><li><a href=/reference/deployment-descriptors/descriptors/processes-xml/>processes.xml</a></li><li><a href=/reference/deployment-descriptors/tags/>Tags</a><ul><li><a href=/reference/deployment-descriptors/tags/job-executor/>&lt;job-executor /&gt;</a></li><li><a href=/reference/deployment-descriptors/tags/process-archive/>&lt;process-archive /&gt;</a></li><li><a href=/reference/deployment-descriptors/tags/process-engine/>&lt;process-engine /&gt;</a></li></ul></li></ul></li></ul></li><li><a href=/installation/>Installation</a><ul><li><a href=/installation/camunda-modeler/>Camunda Modeler</a></li><li><a href=/installation/database-schema/>Database Schema</a></li><li><a href=/installation/camunda-bpm-run/>Remote Engine Distribution</a></li><li><a href=/installation/full/>Shared Engine Distribution</a><ul><li><a href=/installation/full/tomcat/>Tomcat</a><ul><li><a href=/installation/full/tomcat/pre-packaged/>Pre-Packaged Distribution</a></li><li><a href=/installation/full/tomcat/manual/>Manual Installation</a></li><li><a href=/installation/full/tomcat/configuration/>Configuration</a></li></ul></li><li><a href=/installation/full/jboss/>JBoss EAP/WildFly</a><ul><li><a href=/installation/full/jboss/pre-packaged/>Pre-Packaged Distribution</a></li><li><a href=/installation/full/jboss/manual/>Manual Installation</a></li><li><a href=/installation/full/jboss/configuration/>Configuration</a></li></ul></li><li><a href=/installation/full/was/>IBM WebSphere</a><ul><li><a href=/installation/full/was/manual-liberty/>Manual Installation: WebSphere Liberty</a></li><li><a href=/installation/full/was/configuration/>Configuration</a></li></ul></li><li><a href=/installation/full/wls/>Oracle WebLogic</a><ul><li><a href=/installation/full/wls/manual/>Manual Installation</a></li><li><a href=/installation/full/wls/configuration/>Configuration</a></li></ul></li></ul></li><li><a href=/installation/docker/>Docker</a></li><li><a href=/installation/standalone-webapplication/>Standalone Webapplication (.war)</a></li><li><a href=/installation/spring-boot/>Spring Boot</a></li><li><a href=/installation/karaf-osgi/>Karaf / OSGi</a></li></ul></li><li><a href=/modeler/>Modeler</a><ul><li><a href=/modeler/bpmn/>BPMN</a></li><li><a href=/modeler/dmn/>DMN</a></li><li><a href=/modeler/forms/>Forms</a></li><li><a href=/modeler/element-templates/>Element Templates</a></li></ul></li><li><a href=/webapps/>Web Applications</a><ul><li><a href=/webapps/admin/>Admin</a><ul><li><a href=/webapps/admin/user-management/>User Management</a></li><li><a href=/webapps/admin/group-management/>Group Management</a></li><li><a href=/webapps/admin/tenant-management/>Tenant Management</a></li><li><a href=/webapps/admin/authorization-management/>Authorization Management</a></li><li><a href=/webapps/admin/system-management/>System Management</a></li><li><a href=/webapps/admin/auditing/>Auditing</a></li><li><a href=/webapps/admin/configuration/>Configuration</a></li><li><a href=/webapps/admin/plugins/>Plugins</a></li></ul></li><li><a href=/webapps/cockpit/>Cockpit</a><ul><li><a href=/webapps/cockpit/dashboard/>Dashboard</a></li><li><a href=/webapps/cockpit/bpmn/>BPMN Processes</a><ul><li><a href=/webapps/cockpit/bpmn/dashboard/>Dashboard</a></li><li><a href=/webapps/cockpit/bpmn/process-definition-view/>Process Definition View</a></li><li><a href=/webapps/cockpit/bpmn/process-instance-view/>Process Instance View</a></li><li><a href=/webapps/cockpit/bpmn/process-history-views/>History</a></li><li><a href=/webapps/cockpit/bpmn/process-instance-modification/>Instance Modification</a></li><li><a href=/webapps/cockpit/bpmn/process-instance-restart/>Instance Restart</a></li><li><a href=/webapps/cockpit/bpmn/process-instance-migration/>Instance Migration</a></li><li><a href=/webapps/cockpit/bpmn/failed-jobs/>Failed Jobs</a></li><li><a href=/webapps/cockpit/bpmn/suspension/>Suspension</a></li><li><a href=/webapps/cockpit/bpmn/correlate-message/>Correlate Message</a></li><li><a href=/webapps/cockpit/bpmn/drilldown/>Collapsed Subprocesses</a></li></ul></li><li><a href=/webapps/cockpit/dmn/>DMN Decisions</a><ul><li><a href=/webapps/cockpit/dmn/dashboard/>Dashboard</a></li><li><a href=/webapps/cockpit/dmn/decision-definition-view/>Decision Definition View</a></li><li><a href=/webapps/cockpit/dmn/decision-requirements-instance-view/>Decision Requirements Definition Instance View</a></li><li><a href=/webapps/cockpit/dmn/decision-requirements-definition-view/>Decision Requirements Definition View</a></li><li><a href=/webapps/cockpit/dmn/decision-instance-view/>Decision Instance View</a></li><li><a href=/webapps/cockpit/dmn/live-editing/>Live Editing</a></li></ul></li><li><a href=/webapps/cockpit/cmmn/>CMMN Cases</a><ul><li><a href=/webapps/cockpit/cmmn/dashboard/>Dashboard</a></li><li><a href=/webapps/cockpit/cmmn/case-definition-view/>Case Definition View</a></li><li><a href=/webapps/cockpit/cmmn/case-instance-view/>Case Instance View</a></li></ul></li><li><a href=/webapps/cockpit/cleanup/>Cleanup</a></li><li><a href=/webapps/cockpit/deployment-view/>Deployments</a></li><li><a href=/webapps/cockpit/auditing/>Auditing</a></li><li><a href=/webapps/cockpit/batch/>Batch</a><ul><li><a href=/webapps/cockpit/batch/batch-operation/>Batch operation</a></li><li><a href=/webapps/cockpit/batch/monitoring/>Batch View</a></li></ul></li><li><a href=/webapps/cockpit/reporting/>Reports</a></li><li><a href=/webapps/cockpit/tasks-dashboard/>Open Tasks Dashboard</a></li><li><a href=/webapps/cockpit/extend/>Extending</a><ul><li><a href=/webapps/cockpit/extend/configuration/>Configuration</a></li><li><a href=/webapps/cockpit/extend/plugins/>Plugins</a></li></ul></li></ul></li><li><a href=/webapps/tasklist/>Tasklist</a><ul><li><a href=/webapps/tasklist/working-with-tasklist/>Working with Tasklist</a></li><li><a href=/webapps/tasklist/dashboard/>Dashboard</a></li><li><a href=/webapps/tasklist/filters/>Filters</a></li><li><a href=/webapps/tasklist/user-assignment/>User Assignment</a></li><li><a href=/webapps/tasklist/task-lifecycle/>Task Lifecycle</a></li><li><a href=/webapps/tasklist/tasklist-plugins/>Plugins</a></li><li><a href=/webapps/tasklist/configuration/>Configuration</a></li><li><a href=/webapps/tasklist/accessibility/>Accessibility</a></li></ul></li><li><a href=/webapps/welcome/>Welcome</a><ul><li><a href=/webapps/welcome/welcome-plugins/>Plugins</a></li><li><a href=/webapps/welcome/configuration/>Configuration</a></li></ul></li><li><a href=/webapps/shared-options/>Shared Configuration Options</a><ul><li><a href=/webapps/shared-options/authentication/>Authentication</a></li><li><a href=/webapps/shared-options/csrf-prevention/>CSRF Prevention</a></li><li><a href=/webapps/shared-options/cookie-security/>Cookie Security</a></li><li><a href=/webapps/shared-options/header-security/>HTTP Header Security</a></li></ul></li></ul></li><li><a href=/examples/>Examples</a></li><li><a href=/update/>Update &amp; Migration</a><ul><li><a href=/update/minor/>Minor Version Update</a><ul><li><a href=/update/minor/722-to-723/>7.22 to 7.23</a></li><li><a href=/update/minor/721-to-722/>7.21 to 7.22</a><ul><li><a href=/update/minor/721-to-722/tomcat/>Tomcat</a></li><li><a href=/update/minor/721-to-722/wls/>WebLogic</a></li><li><a href=/update/minor/721-to-722/was/>WebSphere Liberty</a></li><li><a href=/update/minor/721-to-722/jboss/>Wildfly / JBoss EAP 7</a></li></ul></li><li><a href=/update/minor/720-to-721/>7.20 to 7.21</a><ul><li><a href=/update/minor/720-to-721/tomcat/>Tomcat</a></li><li><a href=/update/minor/720-to-721/wls/>WebLogic</a></li><li><a href=/update/minor/720-to-721/was/>WebSphere Liberty</a></li><li><a href=/update/minor/720-to-721/jboss/>Wildfly / JBoss EAP 7</a></li></ul></li><li><a href=/update/minor/719-to-720/>7.19 to 7.20</a><ul><li><a href=/update/minor/719-to-720/tomcat/>Tomcat</a></li><li><a href=/update/minor/719-to-720/wls/>WebLogic</a></li><li><a href=/update/minor/719-to-720/was/>WebSphere Liberty</a></li><li><a href=/update/minor/719-to-720/jboss/>Wildfly / JBoss EAP 7</a></li></ul></li><li><a href=/update/minor/718-to-719/>7.18 to 7.19</a><ul><li><a href=/update/minor/718-to-719/tomcat/>Tomcat</a></li><li><a href=/update/minor/718-to-719/wls/>WebLogic</a></li><li><a href=/update/minor/718-to-719/was/>WebSphere</a></li><li><a href=/update/minor/718-to-719/jboss/>Wildfly / JBoss EAP 7</a></li></ul></li><li><a href=/update/minor/717-to-718/>7.17 to 7.18</a><ul><li><a href=/update/minor/717-to-718/tomcat/>Tomcat</a></li><li><a href=/update/minor/717-to-718/wls/>WebLogic</a></li><li><a href=/update/minor/717-to-718/was/>WebSphere</a></li><li><a href=/update/minor/717-to-718/jboss/>Wildfly / JBoss EAP 7</a></li></ul></li><li><a href=/update/minor/716-to-717/>7.16 to 7.17</a><ul><li><a href=/update/minor/716-to-717/jboss/>JBoss EAP 6 or Wildfly / JBoss EAP 7</a></li><li><a href=/update/minor/716-to-717/tomcat/>Tomcat</a></li><li><a href=/update/minor/716-to-717/wls/>WebLogic</a></li><li><a href=/update/minor/716-to-717/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/715-to-716/>7.15 to 7.16</a><ul><li><a href=/update/minor/715-to-716/jboss/>JBoss AS/Wildfly</a></li><li><a href=/update/minor/715-to-716/tomcat/>Tomcat</a></li><li><a href=/update/minor/715-to-716/wls/>WebLogic</a></li><li><a href=/update/minor/715-to-716/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/714-to-715/>7.14 to 7.15</a><ul><li><a href=/update/minor/714-to-715/jboss/>JBoss AS/Wildfly</a></li><li><a href=/update/minor/714-to-715/tomcat/>Tomcat</a></li><li><a href=/update/minor/714-to-715/wls/>WebLogic</a></li><li><a href=/update/minor/714-to-715/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/713-to-714/>7.13 to 7.14</a><ul><li><a href=/update/minor/713-to-714/jboss/>JBoss AS/Wildfly</a></li><li><a href=/update/minor/713-to-714/tomcat/>Tomcat</a></li><li><a href=/update/minor/713-to-714/wls/>WebLogic</a></li><li><a href=/update/minor/713-to-714/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/712-to-713/>7.12 to 7.13</a><ul><li><a href=/update/minor/712-to-713/jboss/>JBoss AS/Wildfly</a></li><li><a href=/update/minor/712-to-713/tomcat/>Tomcat</a></li><li><a href=/update/minor/712-to-713/wls/>WebLogic</a></li><li><a href=/update/minor/712-to-713/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/711-to-712/>7.11 to 7.12</a><ul><li><a href=/update/minor/711-to-712/jboss/>JBoss AS/Wildfly</a></li><li><a href=/update/minor/711-to-712/tomcat/>Tomcat</a></li><li><a href=/update/minor/711-to-712/wls/>WebLogic</a></li><li><a href=/update/minor/711-to-712/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/710-to-711/>7.10 to 7.11</a><ul><li><a href=/update/minor/710-to-711/jboss/>JBoss AS/Wildfly</a></li><li><a href=/update/minor/710-to-711/tomcat/>Tomcat</a></li><li><a href=/update/minor/710-to-711/wls/>WebLogic</a></li><li><a href=/update/minor/710-to-711/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/79-to-710/>7.9 to 7.10</a><ul><li><a href=/update/minor/79-to-710/jboss/>JBoss AS/Wildfly</a></li><li><a href=/update/minor/79-to-710/tomcat/>Tomcat</a></li><li><a href=/update/minor/79-to-710/wls/>WebLogic</a></li><li><a href=/update/minor/79-to-710/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/78-to-79/>7.8 to 7.9</a><ul><li><a href=/update/minor/78-to-79/jboss/>JBoss AS/Wildfly</a></li><li><a href=/update/minor/78-to-79/tomcat/>Tomcat</a></li><li><a href=/update/minor/78-to-79/wls/>WebLogic</a></li><li><a href=/update/minor/78-to-79/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/77-to-78/>7.7 to 7.8</a><ul><li><a href=/update/minor/77-to-78/jboss/>JBoss AS/Wildfly</a></li><li><a href=/update/minor/77-to-78/tomcat/>Tomcat</a></li><li><a href=/update/minor/77-to-78/wls/>WebLogic</a></li><li><a href=/update/minor/77-to-78/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/76-to-77/>7.6 to 7.7</a><ul><li><a href=/update/minor/76-to-77/jboss/>JBoss AS/Wildfly</a></li><li><a href=/update/minor/76-to-77/tomcat/>Tomcat</a></li><li><a href=/update/minor/76-to-77/webapp/>Web Application Plugins</a></li><li><a href=/update/minor/76-to-77/wls/>WebLogic</a></li><li><a href=/update/minor/76-to-77/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/75-to-76/>7.5 to 7.6</a><ul><li><a href=/update/minor/75-to-76/jboss/>JBoss AS/Wildfly</a></li><li><a href=/update/minor/75-to-76/tomcat/>Tomcat</a></li><li><a href=/update/minor/75-to-76/webapp/>Web Application Plugins</a></li><li><a href=/update/minor/75-to-76/wls/>WebLogic</a></li><li><a href=/update/minor/75-to-76/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/74-to-75/>7.4 to 7.5</a><ul><li><a href=/update/minor/74-to-75/glassfish/>Glassfish</a></li><li><a href=/update/minor/74-to-75/jboss/>JBoss AS/Wildfly</a></li><li><a href=/update/minor/74-to-75/tomcat/>Tomcat</a></li><li><a href=/update/minor/74-to-75/webapp/>Web Application Plugins</a></li><li><a href=/update/minor/74-to-75/wls/>WebLogic</a></li><li><a href=/update/minor/74-to-75/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/73-to-74/>7.3 to 7.4</a><ul><li><a href=/update/minor/73-to-74/glassfish/>Glassfish</a></li><li><a href=/update/minor/73-to-74/jboss/>JBoss AS/Wildfly</a></li><li><a href=/update/minor/73-to-74/tomcat/>Tomcat</a></li><li><a href=/update/minor/73-to-74/wls/>WebLogic</a></li><li><a href=/update/minor/73-to-74/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/72-to-73/>7.2 to 7.3</a><ul><li><a href=/update/minor/72-to-73/glassfish/>Glassfish</a></li><li><a href=/update/minor/72-to-73/jboss/>JBoss</a></li><li><a href=/update/minor/72-to-73/tomcat/>Tomcat</a></li><li><a href=/update/minor/72-to-73/wls/>WebLogic</a></li><li><a href=/update/minor/72-to-73/was/>WebSphere</a></li></ul></li><li><a href=/update/minor/71-to-72/>7.1 to 7.2</a><ul><li><a href=/update/minor/71-to-72/glassfish/>Glassfish</a></li><li><a href=/update/minor/71-to-72/jboss/>JBoss</a></li><li><a href=/update/minor/71-to-72/tomcat/>Tomcat</a></li><li><a href=/update/minor/71-to-72/wls/>WebLogic</a></li><li><a href=/update/minor/71-to-72/was/>Websphere</a></li></ul></li><li><a href=/update/minor/70-to-71/>7.0 to 7.1</a></li></ul></li><li><a href=/update/spring-boot-starter/>Spring Boot Starter Migration and Update</a><ul><li><a href=/update/spring-boot-starter/migration-22-23/>2.2.0 to 2.3.0</a></li><li><a href=/update/spring-boot-starter/migration-23-30/>2.3.0 to 3.0.0</a></li><li><a href=/update/spring-boot-starter/migration-31-32/>3.1.0 to 3.2.0</a></li><li><a href=/update/spring-boot-starter/migration-33-34/>3.3.0 to 3.4.0</a></li><li><a href=/update/spring-boot-starter/migration-34-713/>3.4.0 to 7.13.0</a></li></ul></li><li><a href=/update/ce-to-ee/>Migrating from Community to Enterprise Edition</a></li><li><a href=/update/patch-level/>Patch Level Update</a></li><li><a href=/update/rolling-update/>Rolling Update</a></li><li><a href=/update/activiti/>Activiti Migration</a></li></ul></li></ul><div class=meta><h4 class=header><span class="toggle glyphicon glyphicon-chevron-up"></span>Options</h4><div class=content><label for=version-select>Version:</label>
<select id=version-select data-basepath=/manual base-url=https://robertmastalerek.github.io/>
<option>latest</option>
<option>7.22</option>
<option>7.21</option>
<option>7.20</option>
<option>7.19</option>
<option>7.18</option>
<option>7.17</option>
<option>7.16</option>
<option>7.15</option>
<option>7.14</option>
<option>7.13</option>
<option>7.12</option>
<option>7.11</option>
<option>7.10</option>
<option>7.9</option>
<option>7.8</option>
<option>7.7</option>
<option>7.6</option>
<option>7.5</option>
<option>7.4</option>
<option>7.3</option>
<option>7.2</option>
<option>7.1</option>
<option>7.0</option>
<option selected>develop</option></select></div></div></nav><div class=page-wrapper><div class=page-content><div class=container-fluid><div class="col-xs-12 content-header"><ul class=social><li><a target=_blank title="Camunda on Twitter" href=//twitter.com/camunda><span class=cam-docs-twitter></span></a></li><li><a target=_blank title="Camunda related topics on Stackoverflow" href=//stackoverflow.com/questions/tagged/camunda><span class=cam-docs-stackoverflow></span></a></li><li><a target=_blank title="Camunda Forum" href=//forum.camunda.org><span class=cam-docs-chat></span></a></li></ul><div class=edit-on-github><a target=_blank href=https://github.com/camunda/camunda-docs-manual/tree/master/content/user-guide/process-engine/process-instance-modification.md><i>Edit on Github</i> <span class=cam-docs-github></span></a></div><h1 class=page-title>Process Instance Modification</h1></div><div class="col-xs-12 content-text"><p>While the process model contains sequence flows that define in which order activities must be executed, sometimes it is desired to flexibly start an activity again or cancel a running activity. For example, this can be useful when the process model contains an error, such as a wrong sequence flow condition, and running process instances need to be corrected. Use cases for this API may be</p><ul><li>Repairing process instances in which some steps have to be repeated or skipped</li><li>Migrating process instances from one version of a process definition to another</li><li>Testing: Activities can be skipped or repeated for isolated testing of individual process segments</li></ul><p>To perform such an operation, the process engine offers the <em>process instance modification API</em> that is entered via <code>RuntimeService.createProcessInstanceModification(...)</code> or
<code>RuntimeService.createModification(...)</code>. This API allows to specify multiple <em>modification instructions</em> in one call by using a fluent builder. In particular, it is possible to:</p><ul><li>start execution before an activity</li><li>start execution on a sequence flow leaving an activity</li><li>cancel a running activity instance</li><li>cancel all running instances of a given activity</li><li>set variables with each of the instructions</li></ul><div class="note bg-warning docs-warning"><h3>Modification of the own process instance</h3><p>Process instance modification within the same instance is not recommended!
An activity which tries to modify its own process instance can cause undefined behavior, which should be avoided.</p></div><div class="note enterprise-feature"><h3>Enterprise Feature</h3><p class=description>The Camunda enterprise edition provides a user interface to compose process instance modifications visually on the BPMN diagram in <a href=https://robertmastalerek.github.io/webapps/cockpit/bpmn/process-instance-modification/>Camunda Cockpit</a></p><p>Check the <a href=http://camunda.com/platform-7/editions/>Camunda enterprise homepage</a>
for more information or get your
<a href=https://camunda.com/download/enterprise/>free trial version.</a></p></div><h1 id=process-instance-modification-by-example>Process Instance Modification by Example</h1><p>As an example, consider the following process model:</p><div data-bpmn-diagram=../bpmn/example1></div><p>The model shows a simple process for processing a loan application. Let us assume that a loan application has arrived, the loan application has been evaluated, and it was determined to decline the application. That means, the process instance has the following activity instance state:</p><pre><code>ProcessInstance
  Decline Loan Application
</code></pre><p>Now the worker performing the task <em>Decline Loan Application</em> recognizes an error in the evaluation result and comes to the conclusion that the application should be accepted nevertheless. While such flexibility is not modelled as part of the process, process instance modification allows to correct the running process instance. The following API call does the trick:</p><pre><code class=language-java>ProcessInstance processInstance = runtimeService.createProcessInstanceQuery().singleResult();
runtimeService.createProcessInstanceModification(processInstance.getId())
  .startBeforeActivity(&quot;acceptLoanApplication&quot;)
  .cancelAllForActivity(&quot;declineLoanApplication&quot;)
  .execute();
</code></pre><p>This command first starts execution before the activity <em>Accept Loan Application</em> until a wait state - the creation of the user task in this case - is reached. After that, it cancels the running instance of the activity <em>Decline Loan Application</em>. In the worker&rsquo;s task list, the <em>Decline</em> task has been removed and an <em>Accept</em> task has appeared. The resulting activity instance state is:</p><pre><code>ProcessInstance
  Accept Loan Application
</code></pre><p>Let&rsquo;s assume that a variable called <em>approver</em> must exist when approving the application. This can be accomplished by extending the modification request as follows:</p><pre><code class=language-java>ProcessInstance processInstance = runtimeService.createProcessInstanceQuery().singleResult();
runtimeService.createProcessInstanceModification(processInstance.getId())
  .startBeforeActivity(&quot;acceptLoanApplication&quot;)
  .setVariable(&quot;approver&quot;, &quot;joe&quot;)
  .cancelAllForActivity(&quot;declineLoanApplication&quot;)
  .execute();
</code></pre><p>The added <code>setVariable</code> call ensures that before starting the activity, the specified variable is submitted.</p><p>Now to some more complex cases. Say that the application was again not ok and the activity <em>Decline Loan Application</em> is active. Now, the worker recognizes that the evaluation process was erroneous and wants to restart it entirely. The following modification instructions represent the modification request to perform this task:</p><p>It is possible to start the subprocess activities:</p><pre><code class=language-java>ProcessInstance processInstance = runtimeService.createProcessInstanceQuery().singleResult();
runtimeService.createProcessInstanceModification(processInstance.getId())
  .cancelAllForActivity(&quot;declineLoanApplication&quot;)
  .startBeforeActivity(&quot;assessCreditWorthiness&quot;)
  .startBeforeActivity(&quot;registerApplication&quot;)
  .execute();
</code></pre><p>to start at the start event of the subprocess:</p><pre><code class=language-java>ProcessInstance processInstance = runtimeService.createProcessInstanceQuery().singleResult();
runtimeService.createProcessInstanceModification(processInstance.getId())
  .cancelAllForActivity(&quot;declineLoanApplication&quot;)
  .startBeforeActivity(&quot;subProcessStartEvent&quot;)
  .execute();
</code></pre><p>to start the subprocess itself:</p><pre><code class=language-java>ProcessInstance processInstance = runtimeService.createProcessInstanceQuery().singleResult();
runtimeService.createProcessInstanceModification(processInstance.getId())
  .cancelAllForActivity(&quot;declineLoanApplication&quot;)
  .startBeforeActivity(&quot;evaluateLoanApplication&quot;)
  .execute();
</code></pre><p>to start the process&rsquo; start event:</p><pre><code class=language-java>ProcessInstance processInstance = runtimeService.createProcessInstanceQuery().singleResult();
runtimeService.createProcessInstanceModification(processInstance.getId())
  .cancelAllForActivity(&quot;declineLoanApplication&quot;)
  .startBeforeActivity(&quot;processStartEvent&quot;)
  .execute();
</code></pre><h2 id=process-instance-modification-in-junit-tests>Process Instance Modification in JUnit Tests</h2><p>Process instance modification can be very useful in JUnit Tests. You can skip the long part to run through the process from the start to the point you want to test and jump directly to the activity or gateway to test.</p><p>For this you can start a process instance with a modification and place the token directly inside the process instance.</p><p>Assume, you want to skip the subprocess <em>Evaluate Loan Application</em> and test the gateway <em>Application OK?</em> with your process variable, you can start the process instance with</p><pre><code class=language-java>ProcessInstance processInstance = runtimeService.createProcessInstanceByKey(&quot;Loan_Application&quot;)
  .startBeforeActivity(&quot;application_OK&quot;)
  .setVariable(&quot;approved&quot;, true)
  .execute();
</code></pre><p>In a JUnit test, you can assert that the processInstance is waiting at &lsquo;Accept Loan Application&rsquo;, now.</p><h1 id=operational-semantics>Operational Semantics</h1><p>The following sections specify the exact semantics of process instance modification and should be read in order to understand the modification effects in varying circumstances. If not otherwise noted, the following examples refer to the following process model for illustration:</p><div data-bpmn-diagram=../bpmn/example1></div><h2 id=modification-instruction-types>Modification Instruction Types</h2><p>The fluent process instance modification builder offers the following instructions to be submitted:</p><ul><li><code>startBeforeActivity(String activityId)</code></li><li><code>startBeforeActivity(String activityId, String ancestorActivityInstanceId)</code></li><li><code>startAfterActivity(String activityId)</code></li><li><code>startAfterActivity(String activityId, String ancestorActivityInstanceId)</code></li><li><code>startTransition(String transitionId)</code></li><li><code>startTransition(String transition, String ancestorActivityInstanceId)</code></li><li><code>cancelActivityInstance(String activityInstanceId)</code></li><li><code>cancelTransitionInstance(String transitionInstanceId)</code></li><li><code>cancelAllForActivity(String activityId)</code></li></ul><h3 id=start-before-an-activity>Start Before an Activity</h3><pre><code class=language-java>ProcessInstanceModificationBuilder#startBeforeActivity(String activityId)
ProcessInstanceModificationBuilder#startBeforeActivity(String activityId, String ancestorActivityInstanceId)
</code></pre><p>Starting before an activity via <code>startBeforeActivity</code> means that execution is started before entering the activity. The instruction respects an <code>asyncBefore</code> flag, meaning that a job will be created if the activity is <code>asyncBefore</code>. In general, this instruction executes the process model beginning with the specified activity until a wait state is reached. See the documentation on <a href=https://robertmastalerek.github.io/user-guide/process-engine/transactions-in-processes/>Transactions in Processes</a> for details on wait states.</p><h3 id=start-after-an-activity>Start After an Activity</h3><pre><code class=language-java>ProcessInstanceModificationBuilder#startAfterActivity(String activityId)
ProcessInstanceModificationBuilder#startAfterActivity(String activityId, String ancestorActivityInstanceId)
</code></pre><p>Starting after an activity via <code>startAfterActivity</code> means that execution is started on the single outgoing sequence flow of the activity. The instruction does not consider the <code>asyncAfter</code> flag of the given activity. If there is more than one outgoing sequence flow or none at all, the instruction fails. If successful, this instruction executes the process model beginning with the sequence flow until a wait state is reached.</p><h3 id=start-a-transition>Start a Transition</h3><pre><code class=language-java>ProcessInstanceModificationBuilder#startTransition(String transitionId)
ProcessInstanceModificationBuilder#startTransition(String transition, String ancestorActivityInstanceId)
</code></pre><p>Starting a transition via <code>startTransition</code> translates to starting execution on a given sequence flow. This can be used in addition to <code>startAfterActivity</code>, when there is more than one outgoing sequence flow. If successful, this instruction executes the process model beginning with the sequence flow until a wait state is reached.</p><h3 id=cancel-an-activity-instance>Cancel an Activity Instance</h3><pre><code class=language-java>ProcessInstanceModificationBuilder#cancelActivityInstance(String activityInstanceId)
</code></pre><p>A specific activity instance can be canceled by <code>cancelActivityInstance</code>. This can either be a leaf activity instance, such as an instance of a user task, as well as an instance of a scope higher in the hierarchy, such as an instance of a sub process. See the <a href=#activity-instance-based-api>details on activity instances</a> how to retrieve the activity instances of a process instance.</p><h3 id=cancel-a-transition-instance>Cancel a Transition Instance</h3><pre><code class=language-java>ProcessInstanceModificationBuilder#cancelTransitionInstance(String activityInstanceId)
</code></pre><p>Transition instances represent execution flows that are about to enter/leave an activity in the form of an asynchronous continuation. An asynchronous continuation job that has already been created but not yet executed is represented as a transition instance. These instances can be canceled by <code>cancelTransitionInstance</code>. See the <a href=#activity-instance-based-api>details on activity and transition instances</a> how to retrieve the transition instances of a process instance.</p><h3 id=cancel-all-activity-instances-for-an-activity>Cancel All Activity Instances for an Activity</h3><pre><code class=language-java>ProcessInstanceModificationBuilder#cancelAllForActivity(String activityId)
</code></pre><p>For convenience, it is also possible to cancel all activity and transition instances of a given activity by the instruction <code>cancelAllForActivity</code>.</p><h2 id=provide-variables>Provide Variables</h2><p>With every instantiating instruction (i.e., <code>startBeforeActivity</code>, <code>startAfterActivity</code>, or <code>startTransition</code>), it is possible to submit process variables.
The API offers the methods</p><ul><li><code>setVariable(String name, Object value)</code></li><li><code>setVariables(Map&lt;String, Object&gt; variables)</code></li><li><code>setVariableLocal(String name, Object value)</code></li><li><code>setVariablesLocal(Map&lt;String, Object&gt; variables)</code></li></ul><p>Variables are set <strong>after</strong> the <a href=#nested-instantiation>necessary scopes for instantiation are created</a> and <strong>before</strong> the actual execution of the specified element begins. That means, in the process engine history these variables do not appear as if they were set during execution of the specified activity for <code>startBefore</code> and <code>startAfter</code> instructions. Local variables are set on the execution that is about to perform the instruction, i.e., that enters the activity etc.</p><p>See the <a href=https://robertmastalerek.github.io/user-guide/process-engine/variables/>variables section of this guide</a> for details on variables and scopes in general.</p><h2 id=activity-instance-based-api>Activity-Instance-based API</h2><p>The process instance modification API is based on <em>activity instances</em>. The activity instance tree of a process instance can be retrieved with the following method:</p><pre><code class=language-java>ProcessInstance processInstance = ...;
ActivityInstance activityInstance = runtimeService.getActivityInstance(processInstance.getId());
</code></pre><p><code>ActivityInstance</code> is a recursive data structure where the activity instance returned by the above method call represents the process instance. The IDs of <code>ActivityInstance</code> objects can be used for <a href=#cancel-an-activity-instance>cancelation of specific instances</a> or for <a href=#ancestor-selection-for-instantiation>ancestor selection during instantiation</a>.</p><p>The interface <code>ActivityInstance</code> has methods <code>getChildActivityInstances</code> and <code>getChildTransitionInstances</code> to drill down in the activity instance tree. For example, assume that the activities <em>Assess Credit Worthiness</em> and <em>Register Application</em> are active. Then the activity instance tree looks as follows:</p><pre><code>ProcessInstance
  Evaluate Loan Application
    Assess Credit Worthiness
    Register Application Request
</code></pre><p>In code, the <em>Assess</em> and <em>Register</em> activity instances can be retrieved as follows:</p><pre><code class=language-java>ProcessInstance processInstance = ...;
ActivityInstance activityInstance = runtimeService.getActivityInstance(processInstance.getId());
ActivityInstance subProcessInstance = activityInstance.getChildActivityInstances()[0];
ActivityInstance[] leafActivityInstances = subProcessInstance.getChildActivityInstances();
// leafActivityInstances has two elements; one for each activity
</code></pre><p>It is also possible to directly retrieve all activity instances for a given activity:</p><pre><code class=language-java>ProcessInstance processInstance = ...;
ActivityInstance activityInstance = runtimeService.getActivityInstance(processInstance.getId());
ActivityInstance assessCreditWorthinessInstances = activityInstance.getActivityInstances(&quot;assessCreditWorthiness&quot;)[0];
</code></pre><p>Compared to activity instances, <em>transition instances</em> do not represent active activities but activities that are about to be entered or about to be left. This is the case when jobs for asynchronous continuations exist but have not been executed yet. For an activity instance, child transition instances can be retrieved with the method <code>getChildTransitionInstances</code> and the API for transition instances is similar to that for activity instances.</p><h2 id=nested-instantiation>Nested Instantiation</h2><p>Assume a process instance of the above example process where the activity <em>Decline Loan Application</em> is active. Now we submit the instruction to start before the activity <em>Assess Credit Worthiness</em>. When applying this instruction, the process engine makes sure to instantiate all parent scopes that are not active yet. In this case, before starting the activity, the process engine instantiates the <em>Evaluate Loan Application</em> sub process. Where before the activity instance tree was</p><pre><code>ProcessInstance
  Decline Loan Application
</code></pre><p>it now is</p><pre><code>ProcessInstance
  Decline Loan Application
  Evaluate Loan Application
    Assess Credit Worthiness
</code></pre><p>Apart from instantiating these parent scopes, the engine also ensures to register the event subscriptions and jobs in these scopes. For example, consider the following process:</p><div data-bpmn-diagram=../bpmn/example2></div><p>Starting the activity <em>Assess Credit Worthiness</em> also registers an event subscription for the message boundary event <em>Cancelation Notice Received</em> such that it is possible to cancel the sub process this way.</p><h2 id=ancestor-selection-for-instantiation>Ancestor Selection for Instantiation</h2><p>By default, starting an activity instantiates all parent scopes that are not instantiated yet. When the activity instance tree is the following:</p><pre><code>ProcessInstance
  Decline Loan Application
</code></pre><p>Then starting <em>Assess Credit Worthiness</em> results in this updated tree:</p><pre><code>ProcessInstance
  Decline Loan Application
  Evaluate Loan Application
    Assess Credit Worthiness
</code></pre><p>The sub process scope has been instantiated as well. Now assume that the sub process is already instantiated, such as in the following tree:</p><pre><code>ProcessInstance
  Evaluate Loan Application
    Assess Credit Worthiness
</code></pre><p>Starting <em>Assess Credit Worthiness</em> again will start it in the context of the existing sub process instance, such that the resulting tree is:</p><pre><code>ProcessInstance
  Evaluate Loan Application
    Assess Credit Worthiness
    Assess Credit Worthiness
</code></pre><p>If you want to avoid this behavior and instead want to instantiate the sub process a second time, an id of an ancestor activity instance can be supplied by using the method <code>startBeforeActivity(String activityId, String ancestorActivityInstanceId)</code> - similar methods exist for starting after an activity and starting a transition. The parameter <code>ancestorActivityInstanceId</code> takes the id of an activity instance that is currently active and that belongs to an <em>ancestor</em> activity of the activity to be started. An activity is a valid ancestor, if it contains the activity to be started (either directly, or indirectly with other activities in between).</p><p>With a given ancestor activity instance id, all scopes in between the ancestor activity and the activity to be started will be instantiated, regardless of whether they are already instantiated. In the example, the following code starts the activity <em>Assess Credit Worthiness</em> with the process instance (being the root activity instance) as the ancestor:</p><pre><code class=language-java>ProcessInstance processInstance = ...;
ActivityInstance activityInstanceTree = runtimeService.getActivityInstance(processInstance.getId());
runtimeService.createProcessInstanceModification(activityInstanceTree.getId())
  .startBeforeActivity(&quot;assessCreditWorthiness&quot;, processInstance.getId())
  .execute();
</code></pre><p>Then, the resulting activity instance tree is the following:</p><pre><code>ProcessInstance
  Evaluate Loan Application
    Assess Credit Worthiness
  Evaluate Loan Application
    Assess Credit Worthiness
</code></pre><p>The sub process was started a second time.</p><h2 id=cancelation-propagation>Cancelation Propagation</h2><p>Canceling an activity instance propagates to parent activity instances that do not contain other activity instances. This behavior ensures that the process instance is not left in an execution state that makes no sense. This means, when a single activity is active in a sub process and that activity instance is canceled, the sub process is canceled as well. Consider the following activity instance tree:</p><pre><code>ProcessInstance
  Decline Loan Application
  Evaluate Loan Application
    Assess Credit Worthiness
</code></pre><p>After canceling the activity instance for <em>Assess Credit Worthiness</em>, the tree is:</p><pre><code>ProcessInstance
  Decline Loan Application
</code></pre><p>If all instructions have been executed and there is no active activity instance left, the entire process instance is canceled. This would be the case in the example above if both activity instances were canceled, the one for <em>Assess Credit Worthiness</em> and the one for <em>Decline Loan Application</em>.</p><p>However, the process instance is only canceled after all instructions have been executed. That means, if the process instance has no active activity instances between two instructions the process instance is not immediately canceled. As an example, assume that the activity <em>Decline Loan Application</em> is active. The activity instance tree is:</p><pre><code>ProcessInstance
  Decline Loan Application
</code></pre><p>The following modification operation succeeds although the process instance has no active activity instance directly after the cancelation instruction has been executed:</p><pre><code class=language-java>ProcessInstance processInstance = ...;
runtimeService.createProcessInstanceModification(processInstance.getId())
  .cancelAllForActivity(&quot;declineLoanApplication&quot;)
  .startBeforeActivity(&quot;acceptLoanApplication&quot;)
  .execute();
</code></pre><h2 id=instruction-execution-order>Instruction Execution Order</h2><p>Modification instructions are always executed in the order they are submitted. Thus, performing the same instructions in a different order can make a difference. Consider the following activity instance tree:</p><pre><code>ProcessInstance
  Evaluate Loan Application
    Assess Credit Worthiness
</code></pre><p>Assume you have the task of canceling the instance of <em>Assess Credit Worthiness</em> and starting the activity <em>Register Application</em>. There are two orderings for these two instructions: Either the cancelation is performed first, or the instantiation is performed first. In the former case, the code looks as follows:</p><pre><code class=language-java>ProcessInstance processInstance = ...;
runtimeService.createProcessInstanceModification(processInstance.getId())
  .cancelAllForActivity(&quot;assesCreditWorthiness&quot;)
  .startBeforeActivity(&quot;registerApplication&quot;)
  .execute();
</code></pre><p>Due to <a href=#cancelation-propagation>cancelation propagation</a>, the sub process instance is canceled when the cancelation instruction is executed only to be re-instantiated when the instantiation instruction is executed. This means, after the modification has been executed, there is a different instance of the <em>Evaluate Loan Application</em> sub process. Any entities associated with the previous instance have been removed, such as variables or event subscriptions.</p><p>In contrast, consider the case where the instantiation is performed first:</p><pre><code class=language-java>ProcessInstance processInstance = ...;
runtimeService.createProcessInstanceModification(processInstance.getId())
  .startBeforeActivity(&quot;registerApplication&quot;)
  .cancelAllForActivity(&quot;assesCreditWorthiness&quot;)
  .execute();
</code></pre><p>Due to the <a href=#ancestor-selection-for-instantiation>default ancestor selection</a> during instantiation and the fact that cancelation does not propagate to the sub process instance in this case, the sub process instance is the same after modification as it was before. Related entities like variables and event subscriptions are preserved.</p><h2 id=start-activities-with-interrupting-canceling-semantics>Start Activities with Interrupting/Canceling Semantics</h2><p>Process instance modification respects any interrupting or canceling semantics of the activities to be started. In particular, starting an interrupting boundary event or an interrupting event sub process will cancel/interrupt the activity it is defined on/in. Consider the following process:</p><div data-bpmn-diagram=../bpmn/example3></div><p>Assume that the activity <em>Assess Credit Worthiness</em> is currently active. The event sub process can be started with the following code:</p><pre><code class=language-java>ProcessInstance processInstance = ...;
runtimeService.createProcessInstanceModification(processInstance.getId())
  .startBeforeActivity(&quot;cancelEvaluation&quot;)
  .execute();
</code></pre><p>Since the start event of the <em>Cancel Evaluation</em> sub process is interrupting, it will cancel the running instance of <em>Assess Credit Worthiness</em>. The same happens when the start event of the event subprocess is started via:</p><pre><code class=language-java>ProcessInstance processInstance = ...;
runtimeService.createProcessInstanceModification(processInstance.getId())
  .startBeforeActivity(&quot;eventSubProcessStartEvent&quot;)
  .execute();
</code></pre><p>However, when an activity located in the event sub process is directly started, the interruption is not executed. Consider the following code:</p><pre><code class=language-java>ProcessInstance processInstance = ...;
runtimeService.createProcessInstanceModification(processInstance.getId())
  .startBeforeActivity(&quot;notifyAccountant&quot;)
  .execute();
</code></pre><p>The resulting activity instance tree would be:</p><pre><code>ProcessInstance
  Evaluate Loan Application
    Assess Credit Worthiness
    Cancel Evaluation
      Notify Accountant
</code></pre><h2 id=modify-multi-instance-activity-instances>Modify Multi-Instance Activity Instances</h2><p>Modification also works for multi-instance activities. We distinguish in the following between the <em>multi-instance body</em> and the <em>inner activity</em>. The inner activity is the actual activity and has the ID as declared in the process model. The multi-instance body is a scope around this activity that is not represented in the process model as a distinct element. For an activity with id <code>anActivityId</code>, the multi-instance body has by convention the id <code>anActivityId#multiInstanceBody</code>.</p><p>With this distinction, it is possible to start the entire multi-instance body, as well as start a single inner activity instance for a running parallel multi-instance activity. Consider the following process model:</p><div data-bpmn-diagram=../bpmn/example4></div><p>Let&rsquo;s assume the multi-instance activity is active and has three instances:</p><pre><code>ProcessInstance
  Contact Customer - Multi-Instance Body
    Contact Customer
    Contact Customer
    Contact Customer
</code></pre><p>The following modification starts a fourth instance of the <em>Contact Customer</em> activity in the same multi-instance body activity:</p><pre><code class=language-java>ProcessInstance processInstance = ...;
runtimeService.createProcessInstanceModification(processInstance.getId())
  .startBeforeActivity(&quot;contactCustomer&quot;)
  .execute();
</code></pre><p>The resulting activity instance tree is:</p><pre><code>ProcessInstance
  Contact Customer - Multi-Instance Body
    Contact Customer
    Contact Customer
    Contact Customer
    Contact Customer
</code></pre><p>The process engine makes sure to update the multi-instance-related variables <code>nrOfInstances</code>, <code>nrOfActiveInstances</code>, and <code>loopCounter</code> correctly. If the multi-instance activity is configured based on a collection, the collection is not considered when the instruction is executed and the collection element variable will not be populated for the additional instance. Such behavior can be achieved by providing the collection element variable with the instantiation instruction by using the method <code>#setVariableLocal</code>.</p><p>Now consider the following request:</p><pre><code class=language-java>ProcessInstance processInstance = ...;
runtimeService.createProcessInstanceModification(processInstance.getId())
  .startBeforeActivity(&quot;contactCustomer#multiInstanceBody&quot;)
  .execute();
</code></pre><p>This starts the entire multi-instance body a second time, leading to the following activity instance tree:</p><pre><code>ProcessInstance
  Contact Customer - Multi-Instance Body
    Contact Customer
    Contact Customer
    Contact Customer
    Contact Customer
  Contact Customer - Multi-Instance Body
    Contact Customer
    Contact Customer
    Contact Customer
</code></pre><h2 id=asynchronous-modification-of-a-process-instance>Asynchronous modification of a process instance</h2><p>It is possible to execute modification of single process instance asynchronous. The <a href=https://robertmastalerek.github.io/user-guide/process-engine/process-instance-modification/#modification-instruction-types>modification</a> instructions are the same as the synchronous modification and the syntax of fluent builder is the following:</p><pre><code class=language-java>Batch modificationBatch = runtimeService.createProcessInstanceModification(processInstanceId)
        .cancelActivityInstance(&quot;exampleActivityId:1&quot;)
        .startBeforeActivity(&quot;exampleActivityId:2&quot;)
        .executeAsync();
</code></pre><p>This would create a modification <a href=https://robertmastalerek.github.io/user-guide/process-engine/batch/>batch</a> which will be executed asynchronously.
Providing variables is not supported when executing async modification of single process instance.</p><h2 id=modification-of-multiple-process-instances>Modification of Multiple Process Instances</h2><p>When there are multiple process instances which fulfill a specific criteria, it is possible to modify them at once using <code>RuntimeService.createModification(...)</code>. This method allows to specify
the modification instructions and IDs of process instances that should be modified. It is required that the process instances belong to the given process definition.</p><p>The fluent modification builder offers the following instructions to be submitted:</p><ul><li><code>startBeforeActivity(String activityId)</code></li><li><code>startAfterActivity(String activityId)</code></li><li><code>startTransition(String transitionId)</code></li><li><code>cancelAllForActivity(String activityId)</code></li></ul><p>Process instances can be selected for modification by either providing a set of process instance IDs or providing a process instance query.
It is also possible to specify both, a list of process instance IDs and a query. The process instances to be modified will then be the union of the resulting sets.</p><pre><code class=language-java>ProcessInstanceQuery processInstanceQuery = runtimeService.createProcessInstanceQuery();

runtimeService.createModification(&quot;exampleProcessDefinitionId&quot;)
  .cancelAllForActivity(&quot;exampleActivityId:1&quot;)
  .startBeforeActivity(&quot;exampleActivityId:2&quot;)
  .processInstanceIds(processInstanceQuery)
  .processInstanceIds(&quot;processInstanceId:1&quot;, &quot;processInstanceId:2&quot;)
  .execute();
</code></pre><p>The modification of multiple process instances can be executed synchronously or asynchronously.
For more information about the difference between synchronous and asynchronous execution, please refer to the related
section of the <a href=https://robertmastalerek.github.io/user-guide/process-engine/process-instance-migration/#executing-a-migration-plan>user guide</a>.</p><p>An example for synchronous execution:</p><pre><code class=language-java>runtimeService.createModification(&quot;exampleProcessDefinitionId&quot;)
  .cancelAllForActivity(&quot;exampleActivityId:1&quot;)
  .startBeforeActivity(&quot;exampleActivityId:2&quot;)
  .processInstanceIds(&quot;processInstanceId:1&quot;, &quot;processInstanceId:2&quot;)
  .execute();
</code></pre><p>An example for asynchronous execution:</p><pre><code class=language-java>Batch batch = runtimeService.createModification(&quot;exampleProcessDefinitionId&quot;)
  .cancelAllForActivity(&quot;exampleActivityId:1&quot;)
  .startBeforeActivity(&quot;exampleActivityId:2&quot;)
  .processInstanceIds(&quot;processInstanceId:1&quot;, &quot;processInstanceId:2&quot;, &quot;processInstanceId:100&quot;)
  .executeAsync();
</code></pre><h2 id=skip-listener-and-input-output-invocation>Skip Listener and Input/Output Invocation</h2><p>It is possible to skip invocations of execution and task listeners as well as input/output mappings for the transaction that performs the modification. This can be useful when the modification is executed on a system that has no access to the involved process application deployments and their contained classes. Listener and ioMapping invocations can be skipped by using the modification builder&rsquo;s method <code>execute(boolean skipCustomListeners, boolean skipIoMappings)</code>.</p><h2 id=annotation>Annotation</h2><p>Use the <code>annotation</code> option to pass an arbitrary text annotation for auditing reasons.</p><pre><code class=language-java>runtimeService.createProcessInstanceModification(processInstanceId)
  .cancelAllForActivity(&quot;declineLoanApplication&quot;)
  .startBeforeActivity(&quot;processStartEvent&quot;)
  .annotation(&quot;Modified to resolve an error.&quot;)
  .execute();
</code></pre><p>It will be visible in <a href=https://robertmastalerek.github.io/user-guide/process-engine/history/user-operation-log/#annotation-of-user-operation-logs>User Operation Log</a> for the performed modification.</p><h2 id=soundness-checks>Soundness Checks</h2><p>Process instance modification is a very powerful tool and allows to start and cancel activities at will. Thus, it is easy to create situations that are unreachable by normal process execution. Assume the following process model:</p><div data-bpmn-diagram=../bpmn/example5></div><p>Assume that activity <em>Decline Loan Approval</em> is active. With modification, the activity <em>Assess Credit Worthiness</em> can be started. After that activity is completed, execution gets stuck at the joining parallel gateway because no token will ever arrive at the other incoming sequence flow such that the parallel gateway is activated. This is one of the most obvious situations where the process instance cannot continue execution and there are certainly many others, depending on the concrete process model.</p><p>The process engine is <strong>not</strong> able to detect modifications that create such situations. It is up to the user of this API to make modifications that do not leave the process instance in an undesired state. However, process instance modification is also the tool to repair these situations :-)</p></div></div></div><div class=page-toc><h3>On this Page:</h3><nav id=TableOfContents><ul><li><a href=#process-instance-modification-by-example>Process Instance Modification by Example</a><ul><li><a href=#process-instance-modification-in-junit-tests>Process Instance Modification in JUnit Tests</a></li></ul></li><li><a href=#operational-semantics>Operational Semantics</a><ul><li><a href=#modification-instruction-types>Modification Instruction Types</a><ul><li><a href=#start-before-an-activity>Start Before an Activity</a></li><li><a href=#start-after-an-activity>Start After an Activity</a></li><li><a href=#start-a-transition>Start a Transition</a></li><li><a href=#cancel-an-activity-instance>Cancel an Activity Instance</a></li><li><a href=#cancel-a-transition-instance>Cancel a Transition Instance</a></li><li><a href=#cancel-all-activity-instances-for-an-activity>Cancel All Activity Instances for an Activity</a></li></ul></li><li><a href=#provide-variables>Provide Variables</a></li><li><a href=#activity-instance-based-api>Activity-Instance-based API</a></li><li><a href=#nested-instantiation>Nested Instantiation</a></li><li><a href=#ancestor-selection-for-instantiation>Ancestor Selection for Instantiation</a></li><li><a href=#cancelation-propagation>Cancelation Propagation</a></li><li><a href=#instruction-execution-order>Instruction Execution Order</a></li><li><a href=#start-activities-with-interrupting-canceling-semantics>Start Activities with Interrupting/Canceling Semantics</a></li><li><a href=#modify-multi-instance-activity-instances>Modify Multi-Instance Activity Instances</a></li><li><a href=#asynchronous-modification-of-a-process-instance>Asynchronous modification of a process instance</a></li><li><a href=#modification-of-multiple-process-instances>Modification of Multiple Process Instances</a></li><li><a href=#skip-listener-and-input-output-invocation>Skip Listener and Input/Output Invocation</a></li><li><a href=#annotation>Annotation</a></li><li><a href=#soundness-checks>Soundness Checks</a></li></ul></li></ul></nav><div class=docs-banner style=display:none><blockquote><p>We are looking for talented people.</p><p>Check out our <a href=https://camunda.com/career/>open positions</a>.</p></blockquote></div></div><footer class=page-footer><div class=row><div class=col-xs-12><p class=pull-right><a href=# target=_self>Back to top</a></p><p><a href=http://camunda.org>camunda.org</a> and <a href=https://robertmastalerek.github.io/>docs.camunda.org</a> are both part of Camunda
<span class=splitter>|</span>
Built by <a href=http://www.camunda.com>camunda</a> and contributors &mdash; <a href=https://camunda.com/legal/privacy/>Privacy Statement</a> &mdash; camunda Services GmbH &copy; 2025</p><p><a rel=license href=http://creativecommons.org/licenses/by-sa/3.0/><img alt="Creative Commons License" style=border-width:0 src=https://i.creativecommons.org/l/by-sa/3.0/80x15.png></a> The content on this site is licensed under a <a rel=license href=http://creativecommons.org/licenses/by-sa/3.0/>Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.</p></div></div></footer></div><script type=text/javascript src=https://robertmastalerek.github.io/js/docs.5475e58434acb556d620a23530a5e7d810d99614ce0019dfc36d72ba6700b3c9.js integrity="sha256-VHXlhDSstVbWIKI1MKXn2BDZlhTOABnfw21yumcAs8k="></script><script type=text/javascript>var _gaq=_gaq||[];var pluginUrl='//www.google-analytics.com/plugins/ga/inpage_linkid.js';_gaq.push(['_require','inpage_linkid',pluginUrl]);_gaq.push(['_setAccount','UA-39060941-1']);_gaq.push(['_setDomainName','camunda.org']);_gaq.push(['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();</script><script type=text/javascript id=hs-script-loader async defer src=//js.hs-scripts.com/4513465.js></script></body></html>